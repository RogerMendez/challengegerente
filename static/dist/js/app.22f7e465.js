(function(e){function t(t){for(var r,o,s=t[0],l=t[1],c=t[2],d=0,m=[];d<s.length;d++)o=s[d],Object.prototype.hasOwnProperty.call(i,o)&&i[o]&&m.push(i[o][0]),i[o]=0;for(r in l)Object.prototype.hasOwnProperty.call(l,r)&&(e[r]=l[r]);u&&u(t);while(m.length)m.shift()();return n.push.apply(n,c||[]),a()}function a(){for(var e,t=0;t<n.length;t++){for(var a=n[t],r=!0,s=1;s<a.length;s++){var l=a[s];0!==i[l]&&(r=!1)}r&&(n.splice(t--,1),e=o(o.s=a[0]))}return e}var r={},i={app:0},n=[];function o(t){if(r[t])return r[t].exports;var a=r[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,o),a.l=!0,a.exports}o.m=e,o.c=r,o.d=function(e,t,a){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)o.d(a,r,function(t){return e[t]}.bind(null,r));return a},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/static/dist/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],l=s.push.bind(s);s.push=t,s=s.slice();for(var c=0;c<s.length;c++)t(s[c]);var u=l;n.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"56d7":function(e,t,a){"use strict";a.r(t);a("e260"),a("e6cf"),a("cca6"),a("a79d"),a("d3b7"),a("159b"),a("b64b");var r=a("2b0e"),i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"app"}},[a("router-view",{attrs:{name:"header"}}),a("main",[a("router-view")],1),a("router-view",{attrs:{name:"footer"}})],1)},n=[],o={name:"App",components:{}},s=o,l=a("2877"),c=Object(l["a"])(s,i,n,!1,null,null,null),u=c.exports,d=a("8c4f"),m=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("footer",{staticClass:"pt-2 pb-2 bg-dark page-footer font-small pt-4 "},[a("div",{staticClass:"container-fluid"},[a("p",{staticClass:"text-center text-white"},[a("strong",[e._v("Copyright © "+e._s(e.year)+" "),a("b-link",{staticClass:"text-white",attrs:{href:"https://www.linkedin.com/in/rogermendezr/"}},[e._v(" Roger Mendez ")])],1),e._v(" Todos los derechos Reservados. ")])])])},p=[],f={name:"AppFooter",data:function(){return{year:(new Date).getFullYear()}}},v=f,b=Object(l["a"])(v,m,p,!1,null,"0a9de04f",null),g=b.exports,y=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("b-navbar",{attrs:{toggleable:"lg",type:"dark",variant:"dark"}},[a("b-navbar-brand",{attrs:{href:"#"}},[e._v("TuGerente")]),a("b-navbar-toggle",{attrs:{target:"nav-collapse"}}),a("b-collapse",{attrs:{id:"nav-collapse","is-nav":""}},[a("b-navbar-nav",[a("b-nav-item",{attrs:{to:{name:"room-index"}}},[e._v(" Habitaciones ")]),a("b-nav-item",{attrs:{to:{name:"reservation-index"}}},[e._v(" Reservaciones ")])],1)],1)],1)],1)},_=[],h={name:"AppHeader"},C=h,x=Object(l["a"])(C,y,_,!1,null,"2b36be9a",null),w=x.exports,k=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container mb-5"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-12"},[a("b-button",{attrs:{variant:"success",to:{name:"room-new"}}},[a("b-icon-plus-circle"),e._v(" Registrar ")],1)],1),a("div",{staticClass:"col-md-12"},[a("b-overlay",{attrs:{show:e.isLoading,rounded:"lg",opacity:"0.6","spinner-small":"","spinner-variant":"primary"},scopedSlots:e._u([{key:"overlay",fn:function(){return[a("div",{staticClass:"d-flex align-items-center"},[a("b-spinner",{attrs:{small:"",type:"grow",variant:"secondary"}}),a("b-spinner",{attrs:{type:"grow",variant:"dark"}}),a("b-spinner",{attrs:{small:"",type:"grow",variant:"secondary"}}),a("span",{staticClass:"sr-only"},[e._v("Cargando...")])],1)]},proxy:!0}])},[a("b-card",{staticClass:"mb-2 mt-2",attrs:{title:"Habitaciones Registradas",tag:"article"}},[a("b-card-text",[a("b-pagination",{attrs:{"total-rows":e.rows,"aria-controls":"table-categories"},model:{value:e.currentPage,callback:function(t){e.currentPage=t},expression:"currentPage"}}),a("b-table",{ref:"table",attrs:{id:"table-categories",striped:"",hover:"",items:e.rooms,"per-page":e.perPage,"current-page":e.currentPage,fields:e.fields},scopedSlots:e._u([{key:"cell(state)",fn:function(e){return[a("div",{staticClass:"h2 mb-0"},[!0===e.item.state?a("b-icon",{attrs:{icon:"exclamation-circle-fill",variant:"success"}}):a("b-icon",{attrs:{icon:"exclamation-circle-fill",variant:"warning"}})],1)]}},{key:"cell(options)",fn:function(t){return[a("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],attrs:{variant:"warning",size:"sm",title:"Editar Habitación",to:{name:"room-edit",params:{room_id:t.item.id}}}},[a("b-icon-pencil-square")],1),a("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],attrs:{variant:"info",size:"sm",title:"Detalle Habitación",to:{name:"room-detail",params:{room_id:t.item.id}}}},[a("b-icon-view-list")],1),a("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],attrs:{variant:"danger",size:"sm",title:"Eliminar Habitación"},on:{click:function(a){return e.deleteRoom(t.item.id)}}},[a("b-icon-trash")],1)]}}])})],1)],1)],1)],1)])])},S=[],$=(a("99af"),a("bc3a")),L=a.n($),R={vue_app_route:{api:"http://127.0.0.1:8000/api/v1.0/"}},P={name:"Index",data:function(){return{rooms:[],perPage:7,currentPage:1,rows_room:null,fields:[{key:"number",label:"Numero Habitación"},{key:"type",label:"Tipo Habitación"},{key:"features",label:"Caracteristicas"},{key:"price",label:"Precio(Bs.)"},{key:"state",label:"Estado Habitación"},{key:"options",label:"Opciones"}],isLoading:!1}},mounted:function(){this.getRoom()},methods:{getRoom:function(){var e=this;this.isLoading=!0,L.a.get(R.vue_app_route.api+"room/").then((function(t){e.rooms=t.data})).finally((function(){e.$refs.table.refresh(),e.isLoading=!1}))},deleteRoom:function(e){var t=this;this.$swal.fire({title:"Seguro que desea eliminar la categoria?",showCancelButton:!0,confirmButtonText:"No",cancelButtonText:"Eliminar"}).then((function(a){a.isDismissed&&(t.isLoading,L.a.delete("".concat(R.vue_app_route.api,"room/").concat(e,"/")).then((function(e){204===e.status?t.$swal.fire("Categoria Eliminada!","","success"):t.$swal.fire("Algo Salio Mal!","","danger")})).finally((function(){t.getRoom(),t.isLoading=!1})))}))}},computed:{rows:function(){return this.rooms.length}}},D=P,T=Object(l["a"])(D,k,S,!1,null,"24d88740",null),E=T.exports,O=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[a("div",{staticClass:"col-md-7"},[a("b-overlay",{attrs:{show:e.isLoading,rounded:"lg",opacity:"0.6","spinner-small":"","spinner-variant":"primary"},scopedSlots:e._u([{key:"overlay",fn:function(){return[a("div",{staticClass:"d-flex align-items-center"},[a("b-spinner",{attrs:{small:"",type:"grow",variant:"secondary"}}),a("b-spinner",{attrs:{type:"grow",variant:"dark"}}),a("b-spinner",{attrs:{small:"",type:"grow",variant:"secondary"}}),a("span",{staticClass:"sr-only"},[e._v("Cargando...")])],1)]},proxy:!0}])},[a("b-card",{staticClass:"mb-2 mt-2",attrs:{title:"Registrar Habitación",tag:"article"}},[a("b-card-text",[a("validation-observer",{ref:"formRegisterRoom",attrs:{"dv-slot":"{ invalid }"}},[a("b-form",{on:{submit:function(t){return t.stopPropagation(),t.preventDefault(),e.registerRoom.apply(null,arguments)}}},[a("validation-provider",{attrs:{name:"input-number",rules:"required","custom-messages":{required:"Debe registrar el numero de habitación"}},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.errors;return[a("b-form-group",{attrs:{id:"input-number",label:"Numero de habitación:","label-for":"input-number"}},[a("b-form-input",{attrs:{id:"input-number",name:"input-number",placeholder:"Numero de habitación"},model:{value:e.form.number,callback:function(t){e.$set(e.form,"number",t)},expression:"form.number"}}),a("span",{staticClass:"input-invalid-message text-danger",staticStyle:{"font-size":"13px"}},[e._v(" "+e._s(r[0])+" ")])],1)]}}])}),a("validation-provider",{attrs:{name:"input-type",rules:"required","custom-messages":{required:"Debe seleccionar el tipo de habitación"}},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.errors;return[a("b-form-group",{attrs:{id:"input-type",label:"Tipo de Habitación:","label-for":"input-type"}},[a("b-form-select",{attrs:{options:e.type_room},model:{value:e.form.type,callback:function(t){e.$set(e.form,"type",t)},expression:"form.type"}}),a("span",{staticClass:"input-invalid-message text-danger",staticStyle:{"font-size":"13px"}},[e._v(" "+e._s(r[0])+" ")])],1)]}}])}),a("validation-provider",{attrs:{name:"input-features",rules:"required","custom-messages":{required:"Debe registrar las caracteristicas de la habitación"}},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.errors;return[a("b-form-group",{attrs:{id:"input-features",label:"Caracteristicas:","label-for":"input-features"}},[a("b-form-textarea",{attrs:{id:"input-features",name:"input-features",placeholder:"Caracteristicas"},model:{value:e.form.features,callback:function(t){e.$set(e.form,"features",t)},expression:"form.features"}}),a("span",{staticClass:"input-invalid-message text-danger",staticStyle:{"font-size":"13px"}},[e._v(" "+e._s(r[0])+" ")])],1)]}}])}),a("validation-provider",{attrs:{name:"input-price",rules:"required","custom-messages":{required:"Debe registrar el precio de la habitación"}},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.errors;return[a("b-form-group",{attrs:{id:"input-price",label:"Precio (Bs.):","label-for":"input-price"}},[a("b-form-input",{attrs:{id:"input-price",name:"input-price",type:"number",placeholder:"Precio Habitación (Bs)"},model:{value:e.form.price,callback:function(t){e.$set(e.form,"price",t)},expression:"form.price"}}),a("span",{staticClass:"input-invalid-message text-danger",staticStyle:{"font-size":"13px"}},[e._v(" "+e._s(r[0])+" ")])],1)]}}])}),a("b-form-checkbox",{attrs:{name:"check-leaf",switch:""},model:{value:e.form.state,callback:function(t){e.$set(e.form,"state",t)},expression:"form.state"}},[e._v(" Estado Habitación ")]),a("b-form-group",[a("b-button",{attrs:{variant:"primary",type:"submit"}},[a("b-icon-plus-circle"),e._v(" Registrar ")],1)],1)],1)],1)],1)],1)],1)],1),a("div",{staticClass:"col-md-5"})])},q=[],H=a("7bb1");Object(H["c"])("positive",(function(e){return e>=0}));var B={name:"New",data:function(){return{form:{number:null,type:null,features:null,price:0,state:!1},isLoading:!1,type_room:[{value:null,text:"Seleccione una opción"},{value:"Simple",text:"Simple"},{value:"Doble",text:"Doble"},{value:"Triple",text:"Triple"},{value:"Matrimonial",text:"Matrimonial"}]}},components:{ValidationProvider:H["b"],ValidationObserver:H["a"]},methods:{registerRoom:function(){var e=this,t=this.$swal.mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:5e3,timerProgressBar:!0,didOpen:function(t){t.addEventListener("mouseenter",e.$swal.stopTimer),t.addEventListener("mouseleave",e.$swal.resumeTimer)}});this.$refs.formRegisterRoom.validate().then((function(a){if(a){e.isLoading=!0;var r=new FormData;r.append("number",e.form.number),r.append("type",e.form.type),r.append("features",e.form.features),r.append("price",e.form.price),r.append("state",e.form.state),L.a.post(R.vue_app_route.api+"room/",r,{headers:{"Content-Type":"\"multipart/form-data\"; 'boundary'=".concat(r._boundary)}}).then((function(e){201===e.status&&t.fire({icon:"success",title:"Habitación registrada correctamente"})})).finally((function(){e.isLoading=!1}))}else t.fire({icon:"danger",title:"Algo salio mal con la información registrada"})}))}}},z=B,j=Object(l["a"])(z,O,q,!1,null,"5112c7ea",null),N=j.exports,A=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[a("div",{staticClass:"col-md-7"},[a("b-overlay",{attrs:{show:e.isLoading,rounded:"lg",opacity:"0.6","spinner-small":"","spinner-variant":"primary"},scopedSlots:e._u([{key:"overlay",fn:function(){return[a("div",{staticClass:"d-flex align-items-center"},[a("b-spinner",{attrs:{small:"",type:"grow",variant:"secondary"}}),a("b-spinner",{attrs:{type:"grow",variant:"dark"}}),a("b-spinner",{attrs:{small:"",type:"grow",variant:"secondary"}}),a("span",{staticClass:"sr-only"},[e._v("Cargando...")])],1)]},proxy:!0}])},[a("b-card",{staticClass:"mb-2 mt-2",attrs:{title:"Modificar Categoria",tag:"article"}},[a("b-card-text",[a("validation-observer",{ref:"formUpdateRoom",attrs:{"dv-slot":"{ invalid }"}},[a("b-form",{on:{submit:function(t){return t.stopPropagation(),t.preventDefault(),e.updateRoom.apply(null,arguments)}}},[a("validation-provider",{attrs:{name:"input-number",rules:"required","custom-messages":{required:"Debe registrar el numero de habitación"}},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.errors;return[a("b-form-group",{attrs:{id:"input-number",label:"Numero de habitación:","label-for":"input-number"}},[a("b-form-input",{attrs:{id:"input-number",name:"input-number",placeholder:"Numero de habitación"},model:{value:e.form.number,callback:function(t){e.$set(e.form,"number",t)},expression:"form.number"}}),a("span",{staticClass:"input-invalid-message text-danger",staticStyle:{"font-size":"13px"}},[e._v(" "+e._s(r[0])+" ")])],1)]}}])}),a("validation-provider",{attrs:{name:"input-type",rules:"required","custom-messages":{required:"Debe seleccionar el tipo de habitación"}},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.errors;return[a("b-form-group",{attrs:{id:"input-type",label:"Tipo de Habitación:","label-for":"input-type"}},[a("b-form-select",{attrs:{options:e.type_room},model:{value:e.form.type,callback:function(t){e.$set(e.form,"type",t)},expression:"form.type"}}),a("span",{staticClass:"input-invalid-message text-danger",staticStyle:{"font-size":"13px"}},[e._v(" "+e._s(r[0])+" ")])],1)]}}])}),a("validation-provider",{attrs:{name:"input-features",rules:"required","custom-messages":{required:"Debe registrar las caracteristicas de la habitación"}},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.errors;return[a("b-form-group",{attrs:{id:"input-features",label:"Caracteristicas:","label-for":"input-features"}},[a("b-form-textarea",{attrs:{id:"input-features",name:"input-features",placeholder:"Caracteristicas"},model:{value:e.form.features,callback:function(t){e.$set(e.form,"features",t)},expression:"form.features"}}),a("span",{staticClass:"input-invalid-message text-danger",staticStyle:{"font-size":"13px"}},[e._v(" "+e._s(r[0])+" ")])],1)]}}])}),a("validation-provider",{attrs:{name:"input-price",rules:"required","custom-messages":{required:"Debe registrar el precio de la habitación"}},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.errors;return[a("b-form-group",{attrs:{id:"input-price",label:"Precio (Bs.):","label-for":"input-price"}},[a("b-form-input",{attrs:{id:"input-price",name:"input-price",type:"number",placeholder:"Precio Habitación (Bs)"},model:{value:e.form.price,callback:function(t){e.$set(e.form,"price",t)},expression:"form.price"}}),a("span",{staticClass:"input-invalid-message text-danger",staticStyle:{"font-size":"13px"}},[e._v(" "+e._s(r[0])+" ")])],1)]}}])}),a("b-form-checkbox",{attrs:{name:"check-leaf",switch:""},model:{value:e.form.state,callback:function(t){e.$set(e.form,"state",t)},expression:"form.state"}},[e._v(" Estado Habitación ")]),a("b-form-group",[a("b-button",{attrs:{variant:"primary",type:"submit"}},[a("b-icon-pencil"),e._v(" Modificar ")],1)],1)],1)],1)],1)],1)],1)],1),a("div",{staticClass:"col-md-5"})])},M=[];Object(H["c"])("positive",(function(e){return e>=0}));var F={name:"Edit",data:function(){return{form:{id:this.$route.params.room_id,number:null,type:null,features:null,price:0,state:!1},isLoading:!1,type_room:[{value:null,text:"Seleccione una opción"},{value:"Simple",text:"Simple"},{value:"Doble",text:"Doble"},{value:"Triple",text:"Triple"},{value:"Matrimonial",text:"Matrimonial"}]}},mounted:function(){this.getRoom()},components:{ValidationProvider:H["b"],ValidationObserver:H["a"]},methods:{getRoom:function(){var e=this;this.isLoading=!0,L.a.get("".concat(R.vue_app_route.api,"room/").concat(this.form.id,"/")).then((function(t){e.form.number=t.data.number,e.form.type=t.data.type,e.form.features=t.data.features,e.form.price=t.data.price,e.form.state=t.data.state})).finally((function(){e.isLoading=!1}))},updateRoom:function(){var e=this,t=this.$swal.mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:5e3,timerProgressBar:!0,didOpen:function(t){t.addEventListener("mouseenter",e.$swal.stopTimer),t.addEventListener("mouseleave",e.$swal.resumeTimer)}});this.$refs.formUpdateRoom.validate().then((function(a){if(a){e.isLoading=!0;var r=new FormData;r.append("id",e.form.id),r.append("number",e.form.number),r.append("type",e.form.type),r.append("features",e.form.features),r.append("price",e.form.price),r.append("state",e.form.state),L.a.put("".concat(R.vue_app_route.api,"room/").concat(e.form.id,"/"),r,{headers:{"Content-Type":"\"multipart/form-data\"; 'boundary'=".concat(r._boundary)}}).then((function(e){200===e.status&&t.fire({icon:"success",title:"Habitación Modificada Correctamente"})})).finally((function(){e.isLoading=!1}))}else t.fire({icon:"danger",title:"Algo salio mal con la información registrada"})}))}}},I=F,V=Object(l["a"])(I,A,M,!1,null,"399ae028",null),U=V.exports,G=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[a("b-overlay",{attrs:{show:e.isLoading,rounded:"lg",opacity:"0.6","spinner-small":"","spinner-variant":"primary"},scopedSlots:e._u([{key:"overlay",fn:function(){return[a("div",{staticClass:"d-flex align-items-center"},[a("b-spinner",{attrs:{small:"",type:"grow",variant:"secondary"}}),a("b-spinner",{attrs:{type:"grow",variant:"dark"}}),a("b-spinner",{attrs:{small:"",type:"grow",variant:"secondary"}}),a("span",{staticClass:"sr-only"},[e._v("Cargando...")])],1)]},proxy:!0}])},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-12"},[a("b-card",{staticClass:"mb-2 mt-2",attrs:{title:"Registrar Categoria",tag:"article"}},[a("b-card-text",[a("p",{staticClass:"lead"},[a("b",[e._v("Categoria: ")]),e._v(e._s(e.category.name)+" ")]),a("p",{staticClass:"lead"},[a("b",[e._v("Level: ")]),e._v(e._s(e.category.level)+" ")]),a("p",{staticClass:"lead"},[a("b",[e._v("Mejor Oferta: ")]),e.category.best_offer?[e._v("SI")]:[e._v("NO")]],2),a("p",{staticClass:"lead"},[a("b",[e._v("Subcategoria: ")]),e.category.leaf?[e._v("SI")]:[e._v("NO")]],2),a("p",{staticClass:"lead"},[a("b",[e._v("Pago Automático: ")]),e.category.auto_pay?[e._v("SI")]:[e._v("NO")]],2)]),a("b-button",{attrs:{to:{name:"room-edit",params:{category_id:e.category_id}},variant:"warning"}},[a("b-icon-pencil-square"),e._v(" Modificar ")],1),a("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],attrs:{variant:"danger",title:"Eliminar Categoria"},on:{click:function(t){return e.deleteCategory(e.category_id)}}},[a("b-icon-trash"),e._v(" Eliminar ")],1)],1)],1)])])],1)},J=[],Y=(a("b0c0"),{name:"Detail",data:function(){return{category:[],category_id:this.$route.params.category_id,isLoading:!1}},mounted:function(){this.getCategory()},methods:{getCategory:function(){var e=this;this.isLoading=!0,L.a.get("".concat(R.vue_app_route.api,"category/").concat(this.category_id,"/")).then((function(t){e.category.name=t.data.category_name,e.category.auto_pay=t.data.auto_pay_enabled,e.category.best_offer=t.data.best_offer_enabled,e.category.level=t.data.category_level,e.category.leaf=t.data.leaf_category,e.category.category_parent_id=t.data.category_parent_id})).finally((function(){e.isLoading=!1}))},deleteCategory:function(e){var t=this;this.$swal.fire({title:"Seguro que desea eliminar la categoria?",showCancelButton:!0,confirmButtonText:"No",cancelButtonText:"Eliminar"}).then((function(a){a.isDismissed&&(t.isLoading,L.a.delete("".concat(R.vue_app_route.api,"category/").concat(e,"/")).finally((function(){t.$swal.fire("Categoria Eliminada!","","success"),t.$router.push({name:"room-index"}),t.isLoading=!1})))}))}}}),K=Y,Q=Object(l["a"])(K,G,J,!1,null,"3f3b556c",null),W=Q.exports,X=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container mb-5"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-12"},[a("b-button",{attrs:{variant:"success",to:{name:"reservation-new"}}},[a("b-icon-plus-circle"),e._v(" Crear Reserva ")],1)],1),a("div",{staticClass:"col-md-12"},[a("b-overlay",{attrs:{show:e.isLoading,rounded:"lg",opacity:"0.6","spinner-small":"","spinner-variant":"primary"},scopedSlots:e._u([{key:"overlay",fn:function(){return[a("div",{staticClass:"d-flex align-items-center"},[a("b-spinner",{attrs:{small:"",type:"grow",variant:"secondary"}}),a("b-spinner",{attrs:{type:"grow",variant:"dark"}}),a("b-spinner",{attrs:{small:"",type:"grow",variant:"secondary"}}),a("span",{staticClass:"sr-only"},[e._v("Cargando...")])],1)]},proxy:!0}])},[a("b-card",{staticClass:"mb-2 mt-2",attrs:{title:"Reservaciones Registradas",tag:"article"}},[a("b-card-text",[a("b-pagination",{attrs:{"total-rows":e.rows,"aria-controls":"table-categories"},model:{value:e.currentPage,callback:function(t){e.currentPage=t},expression:"currentPage"}}),a("b-table",{ref:"table",attrs:{id:"table-categories",striped:"",hover:"",items:e.reservations,"per-page":e.perPage,"current-page":e.currentPage,fields:e.fields},scopedSlots:e._u([{key:"cell(options)",fn:function(e){return[a("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],attrs:{variant:"info",size:"sm",title:"Detalle Reserva",to:{name:"reservation-detail",params:{reservation_id:e.item.id}}}},[a("b-icon-view-list")],1)]}}])})],1)],1)],1)],1)])])},Z=[],ee={name:"Index",data:function(){return{reservations:[],perPage:7,currentPage:1,rows_room:null,fields:[{key:"total",label:"Total(Bs.)"},{key:"check_in",label:"Fecha de Ingreso"},{key:"check_out",label:"Fecha de Salida"},{key:"state_reservation",label:"Estado Reserva"},{key:"options",label:"Opciones"}],isLoading:!1}},mounted:function(){this.getReservation()},methods:{getReservation:function(){var e=this;this.isLoading=!0,L.a.get(R.vue_app_route.api+"reservation/").then((function(t){200===t.status?e.reservations=t.data:e.$swal.fire("Algo Salio Mal!","","danger")})).finally((function(){e.$refs.table.refresh(),e.isLoading=!1}))}},computed:{rows:function(){return this.reservations.length}}},te=ee,ae=Object(l["a"])(te,X,Z,!1,null,"182c7641",null),re=ae.exports,ie=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-7"},[a("b-overlay",{attrs:{show:e.isLoading,rounded:"lg",opacity:"0.6","spinner-small":"","spinner-variant":"primary"},scopedSlots:e._u([{key:"overlay",fn:function(){return[a("div",{staticClass:"d-flex align-items-center"},[a("b-spinner",{attrs:{small:"",type:"grow",variant:"secondary"}}),a("b-spinner",{attrs:{type:"grow",variant:"dark"}}),a("b-spinner",{attrs:{small:"",type:"grow",variant:"secondary"}}),a("span",{staticClass:"sr-only"},[e._v("Cargando...")])],1)]},proxy:!0}])},[a("b-card",{staticClass:"mb-2 mt-2",attrs:{title:"Crear Reservación",tag:"article"}},[a("b-card-text",[a("validation-observer",{ref:"formRegisterRoom",attrs:{"dv-slot":"{ invalid }"}},[a("b-form",{on:{submit:function(t){return t.stopPropagation(),t.preventDefault(),e.registerReservation.apply(null,arguments)}}},[a("validation-provider",{attrs:{name:"input-check-in",rules:"required|dateToday","custom-messages":{required:"Debe Registrar la Fecha de ingreso"}},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.errors;return[a("b-form-group",{attrs:{id:"input-check-in",label:"Fecha de Ingreso:","label-for":"input-check-in"}},[a("b-form-input",{attrs:{id:"input-check-in",name:"input-check-in",type:"date",placeholder:"Fecha de Ingreso"},model:{value:e.form.check_in,callback:function(t){e.$set(e.form,"check_in",t)},expression:"form.check_in"}}),a("span",{staticClass:"input-invalid-message text-danger",staticStyle:{"font-size":"13px"}},[e._v(" "+e._s(r[0])+" ")])],1)]}}])}),a("validation-provider",{attrs:{name:"input-check-out",rules:"required|dateToday|required|compareDate:@input-check-in","custom-messages":{required:"Debe Registrar la fecha de salida"}},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.errors;return[a("b-form-group",{attrs:{id:"input-check-out",label:"Fecha de Salida:","label-for":"input-check-out"}},[a("b-form-input",{attrs:{id:"input-check-out",name:"input-check-out",type:"date",placeholder:"Fecha de Salida",onchange:""},model:{value:e.form.check_out,callback:function(t){e.$set(e.form,"check_out",t)},expression:"form.check_out"}}),a("span",{staticClass:"input-invalid-message text-danger",staticStyle:{"font-size":"13px"}},[e._v(" "+e._s(r[0])+" ")])],1)]}}])}),a("b-form-group",[a("b-button",{attrs:{variant:"primary",type:"submit"}},[a("b-icon-plus-circle"),e._v(" Registrar ")],1)],1)],1)],1)],1)],1)],1)],1),a("div",{staticClass:"col-md-5"})])])},ne=[];Object(H["c"])("positive",(function(e){return e>=0})),Object(H["c"])("dateToday",{message:"La fecha no puede ser una menor a hoy",validate:function(e){var t=new Date,a=new Date(e+" 23:59:59");return!(t>=a)}}),Object(H["c"])("compareDate",{params:["target"],validate:function(e,t){var a=t.target,r=new Date(e+" 23:59:59"),i=new Date(a+" 23:59:59");return r>i},message:"La fecha de salida no puede ser menor o igual a la fecha de salida"});var oe={name:"New",data:function(){return{form:{check_in:null,check_out:null,total:0,state_reservation:"Pendiente"},isLoading:!1}},components:{ValidationProvider:H["b"],ValidationObserver:H["a"]},methods:{registerReservation:function(){var e=this,t=this.$swal.mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:5e3,timerProgressBar:!0,didOpen:function(t){t.addEventListener("mouseenter",e.$swal.stopTimer),t.addEventListener("mouseleave",e.$swal.resumeTimer)}});this.$refs.formRegisterRoom.validate().then((function(a){if(a){e.isLoading=!0;var r=new FormData;r.append("total",e.form.total),r.append("check_in",e.form.check_in),r.append("check_out",e.form.check_out),r.append("state_reservation",e.form.state_reservation),L.a.post(R.vue_app_route.api+"reservation/",r,{headers:{"Content-Type":"\"multipart/form-data\"; 'boundary'=".concat(r._boundary)}}).then((function(a){201===a.status?(t.fire({icon:"success",title:"Reservación Creada registrada correctamente"}),e.$router.push({name:"reservation-detail",params:{reservation_id:a.data.id}})):t.fire({icon:"error",title:"Algo salio mal!!!"})})).finally((function(){e.isLoading=!1}))}else t.fire({icon:"danger",title:"Algo salio mal con la información registrada"})}))},validateCheckin:function(){}}},se=oe,le=Object(l["a"])(se,ie,ne,!1,null,"78c4c128",null),ce=le.exports,ue=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[a("div",{staticClass:"col-md-7"},[a("b-overlay",{attrs:{show:e.isLoading,rounded:"lg",opacity:"0.6","spinner-small":"","spinner-variant":"primary"},scopedSlots:e._u([{key:"overlay",fn:function(){return[a("div",{staticClass:"d-flex align-items-center"},[a("b-spinner",{attrs:{small:"",type:"grow",variant:"secondary"}}),a("b-spinner",{attrs:{type:"grow",variant:"dark"}}),a("b-spinner",{attrs:{small:"",type:"grow",variant:"secondary"}}),a("span",{staticClass:"sr-only"},[e._v("Cargando...")])],1)]},proxy:!0}])},[a("b-card",{staticClass:"mb-2 mt-2",attrs:{title:"Modificar Categoria",tag:"article"}},[a("b-card-text",[a("validation-observer",{ref:"formUpdateRoom",attrs:{"dv-slot":"{ invalid }"}},[a("b-form",{on:{submit:function(t){return t.stopPropagation(),t.preventDefault(),e.updateRoom.apply(null,arguments)}}},[a("validation-provider",{attrs:{name:"input-number",rules:"required","custom-messages":{required:"Debe registrar el numero de habitación"}},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.errors;return[a("b-form-group",{attrs:{id:"input-number",label:"Numero de habitación:","label-for":"input-number"}},[a("b-form-input",{attrs:{id:"input-number",name:"input-number",placeholder:"Numero de habitación"},model:{value:e.form.number,callback:function(t){e.$set(e.form,"number",t)},expression:"form.number"}}),a("span",{staticClass:"input-invalid-message text-danger",staticStyle:{"font-size":"13px"}},[e._v(" "+e._s(r[0])+" ")])],1)]}}])}),a("validation-provider",{attrs:{name:"input-type",rules:"required","custom-messages":{required:"Debe seleccionar el tipo de habitación"}},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.errors;return[a("b-form-group",{attrs:{id:"input-type",label:"Tipo de Habitación:","label-for":"input-type"}},[a("b-form-select",{attrs:{options:e.type_room},model:{value:e.form.type,callback:function(t){e.$set(e.form,"type",t)},expression:"form.type"}}),a("span",{staticClass:"input-invalid-message text-danger",staticStyle:{"font-size":"13px"}},[e._v(" "+e._s(r[0])+" ")])],1)]}}])}),a("validation-provider",{attrs:{name:"input-features",rules:"required","custom-messages":{required:"Debe registrar las caracteristicas de la habitación"}},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.errors;return[a("b-form-group",{attrs:{id:"input-features",label:"Caracteristicas:","label-for":"input-features"}},[a("b-form-textarea",{attrs:{id:"input-features",name:"input-features",placeholder:"Caracteristicas"},model:{value:e.form.features,callback:function(t){e.$set(e.form,"features",t)},expression:"form.features"}}),a("span",{staticClass:"input-invalid-message text-danger",staticStyle:{"font-size":"13px"}},[e._v(" "+e._s(r[0])+" ")])],1)]}}])}),a("validation-provider",{attrs:{name:"input-price",rules:"required","custom-messages":{required:"Debe registrar el precio de la habitación"}},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.errors;return[a("b-form-group",{attrs:{id:"input-price",label:"Precio (Bs.):","label-for":"input-price"}},[a("b-form-input",{attrs:{id:"input-price",name:"input-price",type:"number",placeholder:"Precio Habitación (Bs)"},model:{value:e.form.price,callback:function(t){e.$set(e.form,"price",t)},expression:"form.price"}}),a("span",{staticClass:"input-invalid-message text-danger",staticStyle:{"font-size":"13px"}},[e._v(" "+e._s(r[0])+" ")])],1)]}}])}),a("b-form-checkbox",{attrs:{name:"check-leaf",switch:""},model:{value:e.form.state,callback:function(t){e.$set(e.form,"state",t)},expression:"form.state"}},[e._v(" Estado Habitación ")]),a("b-form-group",[a("b-button",{attrs:{variant:"primary",type:"submit"}},[a("b-icon-pencil"),e._v(" Modificar ")],1)],1)],1)],1)],1)],1)],1)],1),a("div",{staticClass:"col-md-5"})])},de=[];Object(H["c"])("positive",(function(e){return e>=0}));var me={name:"Edit",data:function(){return{form:{id:this.$route.params.room_id,number:null,type:null,features:null,price:0,state:!1},isLoading:!1,type_room:[{value:null,text:"Seleccione una opción"},{value:"Simple",text:"Simple"},{value:"Doble",text:"Doble"},{value:"Triple",text:"Triple"},{value:"Matrimonial",text:"Matrimonial"}]}},mounted:function(){this.getRoom()},components:{ValidationProvider:H["b"],ValidationObserver:H["a"]},methods:{getRoom:function(){var e=this;this.isLoading=!0,L.a.get("".concat(R.vue_app_route.api,"room/").concat(this.form.id,"/")).then((function(t){e.form.number=t.data.number,e.form.type=t.data.type,e.form.features=t.data.features,e.form.price=t.data.price,e.form.state=t.data.state})).finally((function(){e.isLoading=!1}))},updateRoom:function(){var e=this,t=this.$swal.mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:5e3,timerProgressBar:!0,didOpen:function(t){t.addEventListener("mouseenter",e.$swal.stopTimer),t.addEventListener("mouseleave",e.$swal.resumeTimer)}});this.$refs.formUpdateRoom.validate().then((function(a){if(a){e.isLoading=!0;var r=new FormData;r.append("id",e.form.id),r.append("number",e.form.number),r.append("type",e.form.type),r.append("features",e.form.features),r.append("price",e.form.price),r.append("state",e.form.state),L.a.put("".concat(R.vue_app_route.api,"room/").concat(e.form.id,"/"),r,{headers:{"Content-Type":"\"multipart/form-data\"; 'boundary'=".concat(r._boundary)}}).then((function(e){200===e.status&&t.fire({icon:"success",title:"Habitación Modificada Correctamente"})})).finally((function(){e.isLoading=!1}))}else t.fire({icon:"danger",title:"Algo salio mal con la información registrada"})}))}}},pe=me,fe=Object(l["a"])(pe,ue,de,!1,null,"9d0b4f4a",null),ve=fe.exports,be=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container-fluid"},[a("b-overlay",{attrs:{show:e.isLoading,rounded:"lg",opacity:"0.6","spinner-small":"","spinner-variant":"primary"},scopedSlots:e._u([{key:"overlay",fn:function(){return[a("div",{staticClass:"d-flex align-items-center"},[a("b-spinner",{attrs:{small:"",type:"grow",variant:"secondary"}}),a("b-spinner",{attrs:{type:"grow",variant:"dark"}}),a("b-spinner",{attrs:{small:"",type:"grow",variant:"secondary"}}),a("span",{staticClass:"sr-only"},[e._v("Cargando...")])],1)]},proxy:!0}])},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-5"},[a("b-card",{staticClass:"mb-2 mt-2",attrs:{title:"Detalle Reservación",tag:"article"}},[a("b-card-text",[a("p",{staticClass:"lead"},[a("b",[e._v("Fecha de Ingreso: ")]),e._v(e._s(e.reservation.check_in)+" ")]),a("p",{staticClass:"lead"},[a("b",[e._v("Fecha de Salida: ")]),e._v(e._s(e.reservation.check_out)+" ")]),a("p",{staticClass:"lead"},[a("b",[e._v("Estado Reservación: ")]),e._v(e._s(e.reservation.state_reservation)+" ")]),a("h5",[a("b",[e._v("Costo Total: ")]),e._v(e._s(e.reservation.total)+" Bs. ")])]),this.invoice.length?e._e():a("b-card-text",[a("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal.modal-pay",modifiers:{"modal-pay":!0}}],attrs:{variant:"success"}},[a("b-icon-plus-circle"),e._v(" Pagar ")],1)],1)],1),a("b-card",[a("h4",[e._v("Detalles de Facturación")]),e._l(e.invoice,(function(t){return[a("p",{key:t.id,staticClass:"lead"},[a("b",[e._v("Razon Social:")]),e._v(" "+e._s(t.business_name)+" ")]),a("p",{key:t.business_name,staticClass:"lead"},[a("b",[e._v("Nit:")]),e._v(" "+e._s(t.nit)+" ")]),a("p",{key:t.nit,staticClass:"lead"},[a("b",[e._v("Tipo de Pago:")]),e._v(" "+e._s(t.payment_method)+" ")])]}))],2)],1),a("div",{staticClass:"col-md-7"},[a("b-card",[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-12"},[a("h4",[e._v("Detalle Habitaciones")])]),a("div",{staticClass:"col-md-12"},[a("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal.modal-1",modifiers:{"modal-1":!0}}],attrs:{variant:"success"}},[a("b-icon-plus-circle"),e._v(" Agregar Habitación ")],1)],1),a("div",{staticClass:"col-md-12"},[a("b-modal",{attrs:{id:"modal-1",title:"Habitaciones",size:"xl"}},[a("free-rooms",{attrs:{reservation_id:e.reservation_id}})],1)],1),a("div",{staticClass:"col-md-12"},[a("b-overlay",{attrs:{show:e.isLoading,rounded:"lg",opacity:"0.6","spinner-small":"","spinner-variant":"primary"},scopedSlots:e._u([{key:"overlay",fn:function(){return[a("div",{staticClass:"d-flex align-items-center"},[a("b-spinner",{attrs:{small:"",type:"grow",variant:"secondary"}}),a("b-spinner",{attrs:{type:"grow",variant:"dark"}}),a("b-spinner",{attrs:{small:"",type:"grow",variant:"secondary"}}),a("span",{staticClass:"sr-only"},[e._v("Cargando...")])],1)]},proxy:!0}])},[a("b-card",{staticClass:"mb-2 mt-2",attrs:{title:"Habitaciones Libres",tag:"article"}},[a("b-card-text",[a("b-pagination",{attrs:{"total-rows":e.rows,"aria-controls":"table-categories"},model:{value:e.currentPage,callback:function(t){e.currentPage=t},expression:"currentPage"}}),a("b-table",{ref:"table",attrs:{id:"table-categories",striped:"",hover:"",items:e.rooms,"per-page":e.perPage,"current-page":e.currentPage,fields:e.fields},scopedSlots:e._u([{key:"cell(options)",fn:function(e){return[a("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],attrs:{variant:"danger",size:"sm",title:"pencel"}},[a("b-icon-trash",{class:e})],1)]}}])})],1)],1)],1)],1)])])],1)])]),a("b-modal",{attrs:{id:"modal-pay",title:"Pagar",size:"xl"}},[a("pay-reservation",{attrs:{reservation_id:e.reservation_id,invoice:e.invoice}})],1)],1)},ge=[],ye=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container mb-5"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-12"},[a("b-overlay",{attrs:{show:e.isLoading,rounded:"lg",opacity:"0.6","spinner-small":"","spinner-variant":"primary"},scopedSlots:e._u([{key:"overlay",fn:function(){return[a("div",{staticClass:"d-flex align-items-center"},[a("b-spinner",{attrs:{small:"",type:"grow",variant:"secondary"}}),a("b-spinner",{attrs:{type:"grow",variant:"dark"}}),a("b-spinner",{attrs:{small:"",type:"grow",variant:"secondary"}}),a("span",{staticClass:"sr-only"},[e._v("Cargando...")])],1)]},proxy:!0}])},[a("b-card",{staticClass:"mb-2 mt-2",attrs:{title:"Habitaciones Libres",tag:"article"}},[a("b-card-text",[a("b-pagination",{attrs:{"total-rows":e.rows,"aria-controls":"table-categories"},model:{value:e.currentPage,callback:function(t){e.currentPage=t},expression:"currentPage"}}),a("b-table",{ref:"table",attrs:{id:"table-categories",striped:"",hover:"",items:e.rooms,"per-page":e.perPage,"current-page":e.currentPage,fields:e.fields},scopedSlots:e._u([{key:"cell(state)",fn:function(e){return[a("div",{staticClass:"h2 mb-0"},[!0===e.item.state?a("b-icon",{attrs:{icon:"exclamation-circle-fill",variant:"success"}}):a("b-icon",{attrs:{icon:"exclamation-circle-fill",variant:"warning"}})],1)]}},{key:"cell(options)",fn:function(t){return[a("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],attrs:{variant:"primary",size:"sm",title:"Seleccionar Habitación",to:{name:"reservation-add-room",params:{reservation_id:e.reservation_id,room_id:t.item.id}}}},[a("b-icon-pencil-square"),e._v(" Seleccionar ")],1)]}}])})],1)],1)],1)],1)])])},_e=[],he=(a("a9e3"),{name:"FreeRooms",data:function(){return{rooms:[],perPage:7,currentPage:1,rows_room:null,fields:[{key:"number",label:"Numero Habitación"},{key:"type",label:"Tipo Habitación"},{key:"features",label:"Caracteristicas"},{key:"price",label:"Precio(Bs.)"},{key:"state",label:"Estado Habitación"},{key:"options",label:"Opciones"}],isLoading:!1}},props:{reservation_id:Number},mounted:function(){this.getRoom()},methods:{getRoom:function(){var e=this;this.isLoading=!0,L.a.get(R.vue_app_route.api+"room/freerooms/").then((function(t){e.rooms=t.data})).finally((function(){e.$refs.table.refresh(),e.isLoading=!1}))},deleteRoom:function(e){var t=this;this.$swal.fire({title:"Seguro que desea eliminar la categoria?",showCancelButton:!0,confirmButtonText:"No",cancelButtonText:"Eliminar"}).then((function(a){a.isDismissed&&(t.isLoading,L.a.delete("".concat(R.vue_app_route.api,"room/").concat(e,"/")).then((function(e){204===e.status?t.$swal.fire("Categoria Eliminada!","","success"):t.$swal.fire("Algo Salio Mal!","","danger")})).finally((function(){t.getRoom(),t.isLoading=!1})))}))}},computed:{rows:function(){return this.rooms.length}}}),Ce=he,xe=Object(l["a"])(Ce,ye,_e,!1,null,"46aac392",null),we=xe.exports,ke=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[a("div",{staticClass:"row"},[e._m(0),a("div",{staticClass:"col-md-12"},[a("div",{staticClass:"col-md-12"},[a("b-overlay",{attrs:{show:e.isLoading,rounded:"lg",opacity:"0.6","spinner-small":"","spinner-variant":"primary"},scopedSlots:e._u([{key:"overlay",fn:function(){return[a("div",{staticClass:"d-flex align-items-center"},[a("b-spinner",{attrs:{small:"",type:"grow",variant:"secondary"}}),a("b-spinner",{attrs:{type:"grow",variant:"dark"}}),a("b-spinner",{attrs:{small:"",type:"grow",variant:"secondary"}}),a("span",{staticClass:"sr-only"},[e._v("Cargando...")])],1)]},proxy:!0}])},[a("b-card",{staticClass:"mb-2 mt-2",attrs:{tag:"article"}},[a("b-card-text",[a("validation-observer",{ref:"formRegisterPay",attrs:{"dv-slot":"{ invalid }"}},[a("b-form",{on:{submit:function(t){return t.stopPropagation(),t.preventDefault(),e.registerPay.apply(null,arguments)}}},[a("validation-provider",{attrs:{name:"input-business-name",rules:"required","custom-messages":{required:"Debe registrar la razon social"}},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.errors;return[a("b-form-group",{attrs:{id:"input-business-name",label:"Razon Social:","label-for":"input-business-name"}},[a("b-form-input",{attrs:{id:"input-customer-name",name:"input-business-name",placeholder:"Razon Social"},model:{value:e.form.business_name,callback:function(t){e.$set(e.form,"business_name",t)},expression:"form.business_name"}}),a("span",{staticClass:"input-invalid-message text-danger",staticStyle:{"font-size":"13px"}},[e._v(" "+e._s(r[0])+" ")])],1)]}}])}),a("validation-provider",{attrs:{name:"input-nit",rules:"required","custom-messages":{required:"Debe registrar el nit"}},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.errors;return[a("b-form-group",{attrs:{id:"input-nit",label:"Direccion Cliente:","label-for":"input-nit"}},[a("b-form-input",{attrs:{id:"input-nit",name:"input-nit",placeholder:"NIT"},model:{value:e.form.nit,callback:function(t){e.$set(e.form,"nit",t)},expression:"form.nit"}}),a("span",{staticClass:"input-invalid-message text-danger",staticStyle:{"font-size":"13px"}},[e._v(" "+e._s(r[0])+" ")])],1)]}}])}),a("validation-provider",{attrs:{name:"input-type",rules:"required","custom-messages":{required:"Debe seleccionar el tipo de habitación"}},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.errors;return[a("b-form-group",{attrs:{id:"input-type",label:"Tipo de Habitación:","label-for":"input-type"}},[a("b-form-select",{attrs:{options:e.type_payment},model:{value:e.form.payment_method,callback:function(t){e.$set(e.form,"payment_method",t)},expression:"form.payment_method"}}),a("span",{staticClass:"input-invalid-message text-danger",staticStyle:{"font-size":"13px"}},[e._v(" "+e._s(r[0])+" ")])],1)]}}])}),a("b-form-group",[a("b-button",{attrs:{variant:"primary",type:"submit"}},[a("b-icon-plus-circle"),e._v(" Registrar Pago ")],1)],1)],1)],1)],1)],1)],1)],1)])])])},Se=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"col-md-12"},[a("h4",[e._v("Datos de Facturación")])])}],$e={name:"PayReservation",data:function(){return{reservation:[],isLoading:!1,room:[],form:{business_name:null,nit:null,total:null,payment_method:"Efectivo"},type_payment:[{value:null,text:"Seleccione una opción"},{value:"Efectivo",text:"Efectivo"},{value:"Tarjeta",text:"Tarjeta"}]}},props:{reservation_id:Number,invoice:Array},methods:{registerPay:function(){var e=this,t=this.$swal.mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:5e3,timerProgressBar:!0,didOpen:function(t){t.addEventListener("mouseenter",e.$swal.stopTimer),t.addEventListener("mouseleave",e.$swal.resumeTimer)}});this.$refs.formRegisterPay.validate().then((function(a){if(a){e.isLoading=!0;var r=new FormData;r.append("business_name",e.form.business_name),r.append("nit",e.form.nit),r.append("payment_method",e.form.payment_method),r.append("reservation_id",e.reservation_id),L.a.post(R.vue_app_route.api+"invoice/",r,{headers:{"Content-Type":"\"multipart/form-data\"; 'boundary'=".concat(r._boundary)}}).then((function(a){console.log(a),200===a.status?(t.fire({icon:"success",title:"Habitación registrada correctamente"}),e.invoice=a.data):console.log("Algo salio mal")})).finally((function(){e.isLoading=!1}))}else t.fire({icon:"danger",title:"Algo salio mal con la información registrada"})}))}}},Le=$e,Re=Object(l["a"])(Le,ke,Se,!1,null,"f06ca002",null),Pe=Re.exports,De={name:"Detail",data:function(){return{reservation:[],reservation_id:this.$route.params.reservation_id,rooms:[],invoice:[],perPage:7,currentPage:1,isLoading:!1,rows_room:null,fields:[{key:"room_number",label:"Numero Habitación"},{key:"room_type",label:"Tipo Habitación"},{key:"room_features",label:"Caracteristicas"},{key:"room_price",label:"Precio(Bs.)"},{key:"options",label:"Opciones"}]}},components:{FreeRooms:we,PayReservation:Pe},mounted:function(){this.getReservation(),this.getRooms(),this.getInvoice()},methods:{getInvoice:function(){var e=this;this.isLoading=!0,L.a.get("".concat(R.vue_app_route.api,"invoice/reservation/").concat(this.reservation_id)).then((function(t){console.log(t),200===t.status?e.invoice=t.data:console.log("Algo Salio mal !!!!")})).finally((function(){e.isLoading=!1}))},getReservation:function(){var e=this;this.isLoading=!0,L.a.get("".concat(R.vue_app_route.api,"reservation/").concat(this.reservation_id,"/")).then((function(t){200===t.status?(e.reservation.check_in=t.data.check_in,e.reservation.check_out=t.data.check_out,e.reservation.total=t.data.total,e.reservation.state_reservation=t.data.state_reservation):console.log("Algo Salio mal !!!!")})).finally((function(){e.isLoading=!1}))},getRooms:function(){var e=this;this.isLoading=!0,L.a.get("".concat(R.vue_app_route.api,"detail-reservation/rooms/").concat(this.reservation_id)).then((function(t){200===t.status?e.rooms=t.data:console.log("Algo Salio mal !!!!")})).finally((function(){e.isLoading=!1}))},payReservation:function(e){var t=this;this.$swal.fire({title:"Seguro que desea eliminar la categoria?",showCancelButton:!0,confirmButtonText:"No",cancelButtonText:"Eliminar"}).then((function(a){a.isDismissed&&(t.isLoading,L.a.delete("".concat(R.vue_app_route.api,"category/").concat(e,"/")).finally((function(){t.$swal.fire("Categoria Eliminada!","","success"),t.$router.push({name:"room-index"}),t.isLoading=!1})))}))}},computed:{rows:function(){return this.rooms.length}}},Te=De,Ee=Object(l["a"])(Te,be,ge,!1,null,"3f5010fa",null),Oe=Ee.exports,qe=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-7"},[a("div",{staticClass:"row"},[e._m(0),a("div",{staticClass:"col-12"},[a("p",{staticClass:"lead"},[a("b",[e._v("Numero Habitacion:")]),e._v(" "+e._s(this.room.number)+" ")]),a("p",{staticClass:"lead"},[a("b",[e._v("Tipo Habitacion:")]),e._v(" "+e._s(this.room.type)+" ")]),a("p",{staticClass:"lead"},[a("b",[e._v("Precio Habitacion: ")]),e._v(" "+e._s(this.room.price)+" Bs. ")])]),a("div",{staticClass:"col-md-12"},[a("b-overlay",{attrs:{show:e.isLoading,rounded:"lg",opacity:"0.6","spinner-small":"","spinner-variant":"primary"},scopedSlots:e._u([{key:"overlay",fn:function(){return[a("div",{staticClass:"d-flex align-items-center"},[a("b-spinner",{attrs:{small:"",type:"grow",variant:"secondary"}}),a("b-spinner",{attrs:{type:"grow",variant:"dark"}}),a("b-spinner",{attrs:{small:"",type:"grow",variant:"secondary"}}),a("span",{staticClass:"sr-only"},[e._v("Cargando...")])],1)]},proxy:!0}])},[a("b-card",{staticClass:"mb-2 mt-2",attrs:{tag:"article"}},[a("b-card-text",[a("validation-observer",{ref:"formRegisterAddRoom",attrs:{"dv-slot":"{ invalid }"}},[a("b-form",{on:{submit:function(t){return t.stopPropagation(),t.preventDefault(),e.registerAddRoom.apply(null,arguments)}}},[a("validation-provider",{attrs:{name:"input-customer-name",rules:"required","custom-messages":{required:"Debe registrar el nombre del cliente"}},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.errors;return[a("b-form-group",{attrs:{id:"input-customer-name",label:"Nombre Cliente:","label-for":"input-customer-name"}},[a("b-form-input",{attrs:{id:"input-customer-name",name:"input-customer-name",placeholder:"Nombre Cliente"},model:{value:e.form.customer_name,callback:function(t){e.$set(e.form,"customer_name",t)},expression:"form.customer_name"}}),a("span",{staticClass:"input-invalid-message text-danger",staticStyle:{"font-size":"13px"}},[e._v(" "+e._s(r[0])+" ")])],1)]}}])}),a("validation-provider",{attrs:{name:"input-customer-address",rules:"required","custom-messages":{required:"Debe registrar la direccion del cliente"}},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.errors;return[a("b-form-group",{attrs:{id:"input-customer-address",label:"Direccion Cliente:","label-for":"input-customer-address"}},[a("b-form-input",{attrs:{id:"input-customer-address",name:"input-customer-address",placeholder:"Direccion Cliente"},model:{value:e.form.customer_address,callback:function(t){e.$set(e.form,"customer_address",t)},expression:"form.customer_address"}}),a("span",{staticClass:"input-invalid-message text-danger",staticStyle:{"font-size":"13px"}},[e._v(" "+e._s(r[0])+" ")])],1)]}}])}),a("validation-provider",{attrs:{name:"input-customer-phone",rules:"required","custom-messages":{required:"Debe registrar el telefono del cliente"}},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.errors;return[a("b-form-group",{attrs:{id:"input-customer-phone",label:"Telefono Cliente:","label-for":"input-customer-phone"}},[a("b-form-input",{attrs:{id:"input-customer-phone",name:"input-customer-phone",placeholder:"Telefono Cliente"},model:{value:e.form.customer_phone,callback:function(t){e.$set(e.form,"customer_phone",t)},expression:"form.customer_phone"}}),a("span",{staticClass:"input-invalid-message text-danger",staticStyle:{"font-size":"13px"}},[e._v(" "+e._s(r[0])+" ")])],1)]}}])}),a("validation-provider",{attrs:{name:"input-customer-genre",rules:"required","custom-messages":{required:"Debe seleccionar el genero"}},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.errors;return[a("b-form-group",{attrs:{id:"input-customer-genre",label:"Genero cliente:","label-for":"input-customer-genre"}},[a("b-form-select",{attrs:{options:e.customer_genre},model:{value:e.form.customer_genre,callback:function(t){e.$set(e.form,"customer_genre",t)},expression:"form.customer_genre"}}),a("span",{staticClass:"input-invalid-message text-danger",staticStyle:{"font-size":"13px"}},[e._v(" "+e._s(r[0])+" ")])],1)]}}])}),a("b-form-group",[a("b-button",{attrs:{variant:"primary",type:"submit"}},[a("b-icon-plus-circle"),e._v(" Registrar ")],1)],1)],1)],1)],1)],1)],1)],1)])]),a("div",{staticClass:"col-md-5"})])])},He=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"col-md-12"},[a("h4",[e._v("Asignar Habitación")])])}],Be={name:"AddRoom",data:function(){return{reservation:[],reservation_id:this.$route.params.reservation_id,room_id:this.$route.params.room_id,isLoading:!1,room:[],form:{customer_name:null,customer_phone:null,customer_address:null,customer_genre:null},customer_genre:[{value:null,text:"Seleccione una opción"},{value:"Femenino",text:"Femenino"},{value:"Masculino",text:"Masculino"}]}},mounted:function(){this.getRoom()},methods:{getRoom:function(){var e=this;this.isLoading=!0,L.a.get("".concat(R.vue_app_route.api,"room/").concat(this.room_id,"/")).then((function(t){200===t.status?e.room=t.data:console.log("Algo salio mal!!!")})).finally((function(){e.isLoading=!1}))},registerAddRoom:function(){var e=this,t=this.$swal.mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:5e3,timerProgressBar:!0,didOpen:function(t){t.addEventListener("mouseenter",e.$swal.stopTimer),t.addEventListener("mouseleave",e.$swal.resumeTimer)}});this.$refs.formRegisterAddRoom.validate().then((function(a){if(a){e.isLoading=!0;var r=new FormData;r.append("customer_name",e.form.customer_name),r.append("customer_phone",e.form.customer_phone),r.append("customer_genre",e.form.customer_genre),r.append("customer_address",e.form.customer_address),r.append("reservation_id",e.reservation_id),r.append("room_id",e.room_id),L.a.post(R.vue_app_route.api+"detail-reservation/",r,{headers:{"Content-Type":"\"multipart/form-data\"; 'boundary'=".concat(r._boundary)}}).then((function(a){200===a.status&&(t.fire({icon:"success",title:"Habitación asignada correctamente"}),e.$router.push({name:"reservation-detail",params:{reservation_id:e.reservation_id}}))})).finally((function(){e.isLoading=!1}))}else t.fire({icon:"danger",title:"Algo salio mal con la información registrada"})}))}}},ze=Be,je=Object(l["a"])(ze,qe,He,!1,null,"c04654c6",null),Ne=je.exports;r["default"].use(d["a"]);var Ae=new d["a"]({mode:"history",routes:[{path:"/",name:"room-index",components:{header:w,default:E,footer:g}},{path:"/room/new",name:"room-new",components:{header:w,default:N,footer:g}},{path:"/room/edit/:room_id",name:"room-edit",components:{header:w,default:U,footer:g}},{path:"/room/detail/:room_id",name:"room-detail",components:{header:w,default:W,footer:g}},{path:"/reservation",name:"reservation-index",components:{header:w,default:re,footer:g}},{path:"/reservation/new",name:"reservation-new",components:{header:w,default:ce,footer:g}},{path:"/room/edit/:reservation_id",name:"reservation-edit",components:{header:w,default:ve,footer:g}},{path:"/reservation/detail/:reservation_id",name:"reservation-detail",components:{header:w,default:Oe,footer:g}},{path:"/reservation/add/room/:reservation_id/:room_id",name:"reservation-add-room",components:{header:w,default:Ne,footer:g}}]}),Me=a("5f5b"),Fe=a("b1e0"),Ie=a("f9d5"),Ve=a.n(Ie),Ue=(a("f9e3"),a("2dd8"),a("4413"),a("4c93"));r["default"].use(Me["a"]),r["default"].use(Fe["a"]),r["default"].use(Ve.a),Object.keys(Ue).forEach((function(e){Object(H["c"])(e,Ue[e])})),r["default"].component("ValidationObserver",H["a"]),r["default"].component("ValidationProvider",H["b"]),r["default"].config.productionTip=!1,new r["default"]({router:Ae,render:function(e){return e(u)}}).$mount("#app")}});
//# sourceMappingURL=app.22f7e465.js.map